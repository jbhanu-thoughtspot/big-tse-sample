{"version":3,"sources":["components/home/home.tsx","constants.ts","utils/utils.tsx","components/liveboard/liveboard.tsx","components/viz/viz.tsx","components/viz/table-viz.tsx","components/search/search.tsx","components/full/full.tsx","api-client.tsx","components/api/api.tsx","routes.tsx","components/nav/nav.tsx","App.tsx","index.tsx"],"names":["Home","height","src","TOKEN_SERVER","TS_HOST","filterName","filterValues","visibleVizIds","actionsToDisable","Action","Subscription","Share","Save","Edit","EditTitle","Explore","Pin","SpotIQAnalyze","DrillDown","actionsToHide","actionSet","useEventLogger","t0","React","useRef","Date","now","logEvent","nameOrE","e","type","EmbedEvent","Init","current","data","timestamp","evtDetails","__type","id","notification","info","message","placement","duration","console","log","payload","JSON","parse","getPrettyEventPayload","convertToRowOriented","columnNames","rows","map","row","reduce","tRow","value","idx","columns","col","name","header","_","capitalize","Header","Layout","Footer","Sider","Content","Option","Select","Liveboard","embedRef","useEmbedRef","useState","hiddenActions","setHiddenActions","fullHeight","setFullHeight","disabledActions","setDisabledActions","lbV2","setLbV2","applyFilter","colName","trigger","HostEvent","UpdateRuntimeFilters","columnName","toLowerCase","operator","values","width","collapsedWidth","collapsible","className","Text","style","placeholder","onChange","item","onClick","Reload","SetVisibleVizs","checkedChildren","unCheckedChildren","checked","defaultChecked","overflow","frameParams","ref","disabledActionReason","liveboardId","liveboardV2","onInit","onLoad","onLiveboardRendered","onDrilldown","onCustomAction","onVizPointDoubleClick","event","point","selectedPoints","selectedAttributes","column","Viz","vizId","TableViz","Search","searchQuery","dataSources","searchOptions","searchTokenString","executeSearch","collapseDataSources","onQueryChanged","onData","FullApp","Page","page","setPage","defaultValue","Liveboards","Data","Answers","pageId","path","onAlert","onDialogOpen","onDialogClose","onRouteChange","showPrimaryNavbar","DEFAULT_CONFIGURATION","baseUrl","acceptLanguage","apiContext","createContext","metadataController","dataController","APIProvider","children","controllers","useEffect","Provider","Api","useContext","options","setOptions","setRows","setColumns","loading","setLoading","populateAnswers","searchObjectHeader","answers","result","headers","a","loadAnswer","answerData","option","dataSource","enableColumnAutosize","rowHeight","minHeight","routes","element","Nav","location","useLocation","position","selectedKeys","pathname","mode","Item","to","marginLeft","logout","authStatus","init","thoughtSpotHost","authType","AuthType","Passthrough","AppView","useRoutes","App","on","reason","error","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.70fbfe55.chunk.js","sourcesContent":["export const Home = () => {\n  return (\n    <div>\n      <img\n        height={200}\n        src=\"https://raw.githubusercontent.com/thoughtspot/visual-embed-sdk/main/static/doc-images/images/TS-Logo-black-no-bg.svg\"\n      />\n      <p>ThoughtSpot Everywhere Biiig Demo</p>\n      <p>Click on one of the tabs above to continue</p>\n    </div>\n  );\n};\n","import { Action } from \"@thoughtspot/visual-embed-sdk\";\n\nexport const USERNAME = `demo-user`;\n// See https://github.com/thoughtspot/node-token-auth-server-example\n// for the implementation of the below endpoint.\nexport const TOKEN_SERVER =\n  \"https://node-token-auth-server-example-eta.vercel.app\";\nexport const TOKEN_ENDPOINT = `${TOKEN_SERVER}/api/gettoken/${USERNAME}`;\n// If you change this to `demo-user` the request starts failing with 403\nexport const TOKEN_ENDPOINT_API = `${TOKEN_SERVER}/api/v2/gettoken/ashish.shubham@thoughtspot.com`;\n\n// Cluster details\nexport const TS_HOST = `embed-1-do-not-delete.thoughtspotdev.cloud`;\n\n// Liveboard\nexport const LiveboardId = \"b93478e2-c634-4934-ac89-d79f223d350e\";\n\n// Options for Select filter\nexport const filterName = \"state\";\nexport const filterValues = [\n  \"michigan\",\n  \"massachusettes\",\n  \"illinois\",\n  \"new hampsire\",\n  \"maryland\"\n];\n\n// Vizzes to show for 'Selected Vizs' button\nexport const visibleVizIds = [\n  \"7b2763b7-300f-49d2-88af-a6754535817f\",\n  \"5c77eea9-e0f8-4b1a-9dc1-573f296129a8\"\n];\n\n// Options for Actions Disabled\nexport const actionsToDisable = [\n  Action.Subscription,\n  Action.Share,\n  Action.Save,\n  Action.Edit,\n  Action.EditTitle,\n  Action.Explore,\n  Action.Pin,\n  Action.SpotIQAnalyze,\n  Action.DrillDown\n];\nexport const disabledReason = \"Pay $$ for enabling\";\n\n// Options for Actions hidden\nexport const actionsToHide = [Action.Explore, Action.Pin, Action.SpotIQAnalyze];\n\n// Create a custom action and update the name here.\n// Selecting the action should only show the current viz.\nexport const customActionNameForShowThisViz = \"only-this-viz\";\n","import _ from \"lodash\";\nimport React from \"react\";\nimport { notification } from \"antd\";\nimport { EmbedEvent, Action } from \"@thoughtspot/visual-embed-sdk\";\n\nexport const actionSet = [\n  Action.Subscription,\n  Action.Share,\n  Action.Save,\n  Action.Edit,\n  Action.EditTitle,\n  Action.Explore,\n  Action.Pin,\n  Action.SpotIQAnalyze,\n  Action.DrillDown\n];\n\nexport function useEventLogger() {\n  const t0 = React.useRef(Date.now());\n\n  return function logEvent(nameOrE: any) {\n    if (typeof nameOrE === \"string\") {\n      return (e) => {\n        e.type = nameOrE;\n        logEvent(e);\n      };\n    }\n    if (nameOrE.type === EmbedEvent.Init) {\n      t0.current = nameOrE?.data.timestamp;\n    }\n    const evtDetails = `${nameOrE.type || nameOrE.__type} ${nameOrE.id || \"\"}`;\n    notification.info({\n      message: `Event ${evtDetails}`,\n      placement: \"bottomRight\",\n      duration: 2\n    });\n    console.log(\n      `[Event] ${evtDetails}`,\n      `delta: ${(Date.now() - t0.current) / 1000}`,\n      getPrettyEventPayload(nameOrE.data)\n    );\n  };\n}\n\nfunction getPrettyEventPayload(payload) {\n  if (typeof payload === \"string\") {\n    return JSON.parse(payload);\n  }\n  return payload;\n}\n\nexport function convertToRowOriented(payload: any) {\n  const { columnNames, data } = payload;\n  const rows = data.map((row: any[]) => {\n    return row.reduce((tRow, value, idx) => {\n      tRow[columnNames[idx]] = value;\n      return tRow;\n    }, {});\n  });\n  const columns = columnNames.map((col) => {\n    return {\n      name: col,\n      header: _.capitalize(col)\n    };\n  });\n  return {\n    rows,\n    columns\n  };\n}\n","import { Action, EmbedEvent, HostEvent } from \"@thoughtspot/visual-embed-sdk\";\nimport {\n  LiveboardEmbed,\n  useEmbedRef\n} from \"@thoughtspot/visual-embed-sdk/lib/src/react\";\nimport { Layout, Button, Switch, Select, Typography } from \"antd\";\nimport React from \"react\";\nimport {\n  actionsToDisable,\n  actionsToHide,\n  customActionNameForShowThisViz,\n  disabledReason,\n  filterName,\n  filterValues,\n  LiveboardId,\n  visibleVizIds\n} from \"../../constants\";\nimport { useEventLogger } from \"../../utils/utils\";\nimport \"./liveboard.css\";\n\nconst { Header, Footer, Sider, Content } = Layout;\nconst { Option } = Select;\n\nexport const Liveboard = () => {\n  const logEvent = useEventLogger();\n  const embedRef = useEmbedRef();\n  const [hiddenActions, setHiddenActions] = React.useState<Action[]>([]);\n  const [fullHeight, setFullHeight] = React.useState(false);\n  const onToggleHideActions = (checked: boolean) => {\n    if (checked) {\n      setHiddenActions([]);\n    } else {\n      setHiddenActions(actionsToHide);\n    }\n  };\n\n  const [disabledActions, setDisabledActions] = React.useState<Action[]>([]);\n  const onToggleDisabledActions = (checked: boolean) => {\n    if (checked) {\n      setDisabledActions([]);\n    } else {\n      setDisabledActions(actionsToDisable);\n    }\n  };\n\n  const [lbV2, setLbV2] = React.useState<boolean>(true);\n  const onToggleLbV2 = (checked: boolean) => {\n    if (checked) {\n      setLbV2(true);\n    } else {\n      setLbV2(false);\n    }\n  };\n\n  const applyFilter = (colName: string, value: string) => {\n    console.log(colName, value);\n    embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, [\n      {\n        columnName: colName.toLowerCase(),\n        operator: \"EQ\",\n        values: [value]\n      }\n    ]);\n  };\n\n  const onDoubleClick = (event: any) => {\n    console.log(event);\n    const point = event.data.selectedPoints[0].selectedAttributes[0];\n    const colName = point.column.name;\n    const value = point.value;\n    applyFilter(colName, value);\n  };\n\n  const onFilterSelect = (value: string) => {\n    applyFilter(filterName, value);\n  };\n\n  const resetFilter = () => {\n    embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, [\n      {\n        columnName: filterName,\n        operator: \"EQ\",\n        values: []\n      }\n    ]);\n  };\n\n  const onCustomAction = (e) => {\n    logEvent(e);\n    if (e.id === customActionNameForShowThisViz) {\n      embedRef.current.trigger(HostEvent.SetVisibleVizs, [\n        \"5c77eea9-e0f8-4b1a-9dc1-573f296129a8\"\n      ]);\n      console.log(JSON.parse(e.data));\n      console.log(\"selected current viz\");\n    }\n  };\n  const onToggleFullHeight = (checked: boolean) => {\n    setFullHeight(checked);\n  };\n\n  const selectVizs = () => {\n    embedRef.current.trigger(HostEvent.SetVisibleVizs, visibleVizIds);\n  };\n  const reload = () => {\n    embedRef.current.trigger(HostEvent.Reload, {});\n  };\n\n  return (\n    <Layout>\n      <Header>\n        Liveboard Embed\n        <i> (see events details in the console)</i>\n      </Header>\n\n      <Layout>\n        <Sider width={200} collapsedWidth={0} collapsible>\n          <div className=\"sider-content\">\n            <Typography.Text>Filter</Typography.Text>\n            <Select\n              style={{ width: 140 }}\n              placeholder=\"Select filter\"\n              onChange={onFilterSelect}\n            >\n              {filterValues.map((item) => (\n                <Option value={item}>{item}</Option>\n              ))}\n            </Select>\n\n            <Button onClick={resetFilter}>Reset filter</Button>\n            <Button onClick={reload}>Reload</Button>\n            <Button onClick={selectVizs}>Selected Vizs</Button>\n            <Switch\n              checkedChildren=\"Height is Adaptive\"\n              unCheckedChildren=\"Height is static\"\n              onChange={onToggleFullHeight}\n            />\n            <Switch\n              checkedChildren=\"Actions shown\"\n              unCheckedChildren=\"Actions hidden\"\n              defaultChecked\n              onChange={onToggleHideActions}\n            />\n            <Switch\n              checkedChildren=\"Actions enabled\"\n              unCheckedChildren=\"Actions disabled\"\n              defaultChecked\n              onChange={onToggleDisabledActions}\n            />\n            <Switch\n              checkedChildren=\"LiveboardV2 enabled\"\n              unCheckedChildren=\"LiveboardV2 disabled\"\n              defaultChecked\n              onChange={onToggleLbV2}\n            />\n          </div>\n        </Sider>\n\n        <Content style={{ overflow: \"scroll\", height: \"720px\" }}>\n          {/* ThoughtSpot liveboard Embed */}\n          <LiveboardEmbed\n            frameParams={{\n              height: 1200\n            }}\n            className=\"liveboard-content\"\n            ref={embedRef}\n            hiddenActions={hiddenActions}\n            disabledActions={disabledActions}\n            disabledActionReason={disabledReason}\n            fullHeight={fullHeight}\n            liveboardId={LiveboardId}\n            liveboardV2={lbV2}\n            onInit={logEvent(EmbedEvent.Init)}\n            onLoad={logEvent(\"Load\")}\n            onLiveboardRendered={logEvent}\n            onDrilldown={logEvent}\n            onCustomAction={onCustomAction}\n            onVizPointDoubleClick={onDoubleClick}\n          />\n        </Content>\n      </Layout>\n      <Footer>Footer</Footer>\n    </Layout>\n  );\n};\n","import { Action, EmbedEvent, HostEvent } from \"@thoughtspot/visual-embed-sdk\";\nimport {\n  LiveboardEmbed,\n  useEmbedRef\n} from \"@thoughtspot/visual-embed-sdk/lib/src/react\";\nimport { Layout, Button, Switch } from \"antd\";\nimport React from \"react\";\nimport { useEventLogger, actionSet } from \"../../utils/utils\";\n\nconst { Header, Footer, Sider, Content } = Layout;\n\nexport const Viz = () => {\n  const logEvent = useEventLogger();\n  const embedRef = useEmbedRef();\n  const [hiddenActions, setHiddenActions] = React.useState<Action[]>([]);\n  const onToggleHideActions = (checked: boolean) => {\n    if (checked) {\n      setHiddenActions([]);\n    } else {\n      setHiddenActions(actionSet);\n    }\n  };\n\n  const [disabledActions, setDisabledActions] = React.useState<Action[]>([]);\n  const onToggleDisabledActions = (checked: boolean) => {\n    if (checked) {\n      setDisabledActions([]);\n    } else {\n      setDisabledActions(actionSet);\n    }\n  };\n\n  const applyFilter = () => {\n    embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, [\n      {\n        columnName: \"state\",\n        operator: \"EQ\",\n        values: [\"michigan\"]\n      }\n    ]);\n  };\n  const resetFilter = () => {\n    embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, [\n      {\n        columnName: \"state\",\n        operator: \"EQ\",\n        values: []\n      }\n    ]);\n  };\n\n  const onCustomAction = (e) => {\n    if (e.id === \"only-this-viz\") {\n      embedRef.current.trigger(HostEvent.SetVisibleVizs, [\n        \"6d39225c-8845-44b4-b105-910981cdbba8\"\n      ]);\n      console.log(JSON.parse(e.data));\n    }\n  };\n  const triggerDrill = () => {};\n  const reload = () => {\n    embedRef.current.trigger(HostEvent.Reload, {});\n  };\n\n  return (\n    <Layout>\n      <Header>\n        Liveboard Embed\n        <i> (see events details in the console)</i>\n      </Header>\n\n      <Layout>\n        <Sider width={200}>\n          <div className=\"sider-content\">\n            <Button onClick={applyFilter}>Filter Michigan</Button>\n            <Button onClick={resetFilter}>Reset filter</Button>\n            <Button onClick={reload}>Reload</Button>\n            <Button onClick={triggerDrill}>Drill</Button>\n\n            <Switch\n              checkedChildren=\"Actions shown\"\n              unCheckedChildren=\"Actions hidden\"\n              defaultChecked\n              onChange={onToggleHideActions}\n            />\n            <Switch\n              checkedChildren=\"Actions enabled\"\n              unCheckedChildren=\"Actions disabled\"\n              defaultChecked\n              onChange={onToggleDisabledActions}\n            />\n          </div>\n        </Sider>\n\n        <Content>\n          <LiveboardEmbed\n            frameParams={{\n              height: 400\n            }}\n            className=\"liveboard-content\"\n            ref={embedRef}\n            hiddenActions={hiddenActions}\n            disabledActions={disabledActions}\n            disabledActionReason=\"Pay $$$\"\n            fullHeight={true}\n            liveboardId=\"c6746439-61cd-431c-a0d2-0328c9519057\"\n            vizId=\"53bc1596-dacd-489d-837f-98272a2c08a2\"\n            onInit={logEvent(EmbedEvent.Init)}\n            onLoad={logEvent(\"Load\")}\n            onLiveboardRendered={logEvent}\n            onDrilldown={logEvent}\n            onCustomAction={onCustomAction}\n          />\n        </Content>\n      </Layout>\n      <Footer>Footer</Footer>\n    </Layout>\n  );\n};\n","import { Action, EmbedEvent, HostEvent } from \"@thoughtspot/visual-embed-sdk\";\nimport {\n  LiveboardEmbed,\n  useEmbedRef\n} from \"@thoughtspot/visual-embed-sdk/lib/src/react\";\nimport { Layout, Button, Switch } from \"antd\";\nimport React from \"react\";\nimport { useEventLogger, actionSet } from \"../../utils/utils\";\n\nconst { Header, Footer, Sider, Content } = Layout;\n\nexport const TableViz = () => {\n  const logEvent = useEventLogger();\n  const embedRef = useEmbedRef();\n  const [hiddenActions, setHiddenActions] = React.useState<Action[]>([]);\n  const onToggleHideActions = (checked: boolean) => {\n    if (checked) {\n      setHiddenActions([]);\n    } else {\n      setHiddenActions(actionSet);\n    }\n  };\n\n  const [disabledActions, setDisabledActions] = React.useState<Action[]>([]);\n  const onToggleDisabledActions = (checked: boolean) => {\n    if (checked) {\n      setDisabledActions([]);\n    } else {\n      setDisabledActions(actionSet);\n    }\n  };\n\n  const applyFilter = () => {\n    embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, [\n      {\n        columnName: \"state\",\n        operator: \"EQ\",\n        values: [\"michigan\"]\n      }\n    ]);\n  };\n  const resetFilter = () => {\n    embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, [\n      {\n        columnName: \"state\",\n        operator: \"EQ\",\n        values: []\n      }\n    ]);\n  };\n\n  const onCustomAction = (e) => {\n    if (e.id === \"only-this-viz\") {\n      embedRef.current.trigger(HostEvent.SetVisibleVizs, [\n        \"6d39225c-8845-44b4-b105-910981cdbba8\"\n      ]);\n      console.log(JSON.parse(e.data));\n    }\n  };\n  const triggerDrill = () => {};\n  const reload = () => {\n    embedRef.current.trigger(HostEvent.Reload, {});\n  };\n\n  return (\n    <Layout>\n      <Header>\n        Table viz Embed\n        <i> (see events details in the console)</i>\n      </Header>\n\n      <Layout>\n        <Sider width={200}>\n          <div className=\"sider-content\">\n            <Button onClick={applyFilter}>Filter Michigan</Button>\n            <Button onClick={resetFilter}>Reset filter</Button>\n            <Button onClick={reload}>Reload</Button>\n            <Button onClick={triggerDrill}>Drill</Button>\n\n            <Switch\n              checkedChildren=\"Actions shown\"\n              unCheckedChildren=\"Actions hidden\"\n              defaultChecked\n              onChange={onToggleHideActions}\n            />\n            <Switch\n              checkedChildren=\"Actions enabled\"\n              unCheckedChildren=\"Actions disabled\"\n              defaultChecked\n              onChange={onToggleDisabledActions}\n            />\n          </div>\n        </Sider>\n\n        <Content>\n          <LiveboardEmbed\n            frameParams={{\n              height: 400\n            }}\n            className=\"liveboard-content\"\n            ref={embedRef}\n            hiddenActions={hiddenActions}\n            disabledActions={disabledActions}\n            disabledActionReason=\"Pay $$$\"\n            fullHeight={true}\n            liveboardId=\"3f9c48f5-c465-4785-abd5-38459e1f5d6d\"\n            vizId=\"94f36111-12a0-4153-be69-95f8e1a2ddfd\"\n            onInit={logEvent(EmbedEvent.Init)}\n            onLoad={logEvent(\"Load\")}\n            onLiveboardRendered={logEvent}\n            onDrilldown={logEvent}\n            onCustomAction={onCustomAction}\n            liveboardV2={false}\n          />\n        </Content>\n      </Layout>\n      <Footer>Footer</Footer>\n    </Layout>\n  );\n};\n","import { Action, EmbedEvent, HostEvent } from \"@thoughtspot/visual-embed-sdk\";\nimport {\n  SearchEmbed,\n  useEmbedRef\n} from \"@thoughtspot/visual-embed-sdk/lib/src/react\";\nimport { Layout, Button, Switch } from \"antd\";\nimport React from \"react\";\nimport { useEventLogger, actionSet } from \"../../utils/utils\";\n\nconst { Header, Footer, Sider, Content } = Layout;\n\nexport const Search = () => {\n  const logEvent = useEventLogger();\n  const embedRef = useEmbedRef();\n  const [hiddenActions, setHiddenActions] = React.useState<Action[]>([]);\n  const onToggleHideActions = (checked: boolean) => {\n    if (checked) {\n      setHiddenActions([]);\n    } else {\n      setHiddenActions(actionSet);\n    }\n  };\n\n  const [disabledActions, setDisabledActions] = React.useState<Action[]>([]);\n  const onToggleDisabledActions = (checked: boolean) => {\n    if (checked) {\n      setDisabledActions([]);\n    } else {\n      setDisabledActions(actionSet);\n    }\n  };\n\n  const changeSearch = () => {\n    embedRef.current.trigger(HostEvent.Search, {\n      searchQuery: \"[sales] by [item type]\",\n      dataSources: [\"cd252e5c-b552-49a8-821d-3eadaa049cca\"]\n    });\n  };\n\n  const onCustomAction = (e) => {\n    logEvent(e);\n    if (e.id === \"only-this-viz\") {\n      embedRef.current.trigger(HostEvent.SetVisibleVizs, [\n        \"6d39225c-8845-44b4-b105-910981cdbba8\"\n      ]);\n      console.log(JSON.parse(e.data));\n    }\n  };\n  const triggerDrill = () => {};\n  const reload = () => {\n    embedRef.current.trigger(HostEvent.Reload, {});\n  };\n\n  return (\n    <Layout>\n      <Header>\n        Search Embed\n        <i> (see events details in the console)</i>\n      </Header>\n\n      <Layout>\n        <Sider width={200}>\n          <div className=\"sider-content\">\n            <Button onClick={changeSearch}>Change query</Button>\n            <Button onClick={reload}>Reload</Button>\n            <Button onClick={triggerDrill}>Drill</Button>\n\n            <Switch\n              checkedChildren=\"Actions shown\"\n              unCheckedChildren=\"Actions hidden\"\n              defaultChecked\n              onChange={onToggleHideActions}\n            />\n            <Switch\n              checkedChildren=\"Actions enabled\"\n              unCheckedChildren=\"Actions disabled\"\n              defaultChecked\n              onChange={onToggleDisabledActions}\n            />\n          </div>\n        </Sider>\n\n        <Content>\n          <SearchEmbed\n            frameParams={{\n              height: \"100%\"\n            }}\n            className=\"liveboard-content\"\n            ref={embedRef}\n            searchOptions={{\n              searchTokenString: \"[quantity purchased] [region]\",\n              executeSearch: true\n            }}\n            dataSources={[\"cd252e5c-b552-49a8-821d-3eadaa049cca\"]}\n            collapseDataSources={true}\n            hiddenActions={hiddenActions}\n            disabledActions={disabledActions}\n            disabledActionReason=\"Pay $$$\"\n            onInit={logEvent(EmbedEvent.Init)}\n            onLoad={logEvent(\"Load\")}\n            onDrilldown={logEvent}\n            onCustomAction={onCustomAction}\n            onQueryChanged={logEvent}\n            onVizPointDoubleClick={logEvent}\n            onData={logEvent}\n          />\n        </Content>\n      </Layout>\n      <Footer>Footer</Footer>\n    </Layout>\n  );\n};\n","import {\n  Action,\n  EmbedEvent,\n  HostEvent,\n  Page\n} from \"@thoughtspot/visual-embed-sdk\";\nimport {\n  AppEmbed,\n  useEmbedRef\n} from \"@thoughtspot/visual-embed-sdk/lib/src/react\";\nimport { Layout, Button, Switch, Select } from \"antd\";\nimport React from \"react\";\nimport { useEventLogger, actionSet } from \"../../utils/utils\";\n\nconst { Header, Footer, Sider, Content } = Layout;\nconst { Option } = Select;\n\nexport const FullApp = () => {\n  const logEvent = useEventLogger();\n  const embedRef = useEmbedRef();\n  const [hiddenActions, setHiddenActions] = React.useState<Action[]>([]);\n  const [page, setPage] = React.useState(Page.Home);\n  const onToggleHideActions = (checked: boolean) => {\n    if (checked) {\n      setHiddenActions([]);\n    } else {\n      setHiddenActions(actionSet);\n    }\n  };\n\n  const [disabledActions, setDisabledActions] = React.useState<Action[]>([]);\n  const onToggleDisabledActions = (checked: boolean) => {\n    if (checked) {\n      setDisabledActions([]);\n    } else {\n      setDisabledActions(actionSet);\n    }\n  };\n\n  const handlePathChange = (value: Page) => {\n    setPage(value);\n  };\n\n  const onDialogOpen = (e) => {\n    logEvent(e);\n  };\n  const onDialogClose = (e) => {\n    logEvent(e);\n  };\n\n  const onCustomAction = (e) => {\n    if (e.id === \"only-this-viz\") {\n      embedRef.current.trigger(HostEvent.SetVisibleVizs, [\n        \"6d39225c-8845-44b4-b105-910981cdbba8\"\n      ]);\n      console.log(JSON.parse(e.data));\n    }\n  };\n  const triggerDrill = () => {};\n  const reload = () => {\n    embedRef.current.trigger(HostEvent.Reload, {});\n  };\n\n  return (\n    <Layout>\n      <Header>\n        Full App Embed\n        <i> (see events details in the console)</i>\n      </Header>\n\n      <Layout>\n        <Sider width={200}>\n          <div className=\"sider-content\">\n            <Select\n              defaultValue={Page.Home}\n              style={{ width: 120 }}\n              onChange={handlePathChange}\n            >\n              <Option value={Page.Home}>Home</Option>\n              <Option value={Page.Liveboards}>Liveboards</Option>\n              <Option value={Page.Data}>Data</Option>\n              <Option value={Page.Answers}>Answers</Option>\n              <Option value={Page.Search}>Search</Option>\n            </Select>\n            <Button onClick={reload}>Reload</Button>\n            <Button onClick={triggerDrill}>Drill</Button>\n\n            <Switch\n              checkedChildren=\"Actions shown\"\n              unCheckedChildren=\"Actions hidden\"\n              defaultChecked\n              onChange={onToggleHideActions}\n            />\n            <Switch\n              checkedChildren=\"Actions enabled\"\n              unCheckedChildren=\"Actions disabled\"\n              defaultChecked\n              onChange={onToggleDisabledActions}\n            />\n          </div>\n        </Sider>\n\n        <Content>\n          <AppEmbed\n            frameParams={{\n              height: 600\n            }}\n            className=\"liveboard-content\"\n            ref={embedRef}\n            pageId={page}\n            hiddenActions={hiddenActions}\n            disabledActions={disabledActions}\n            disabledActionReason=\"Pay $$$\"\n            path=\"/pinboards\"\n            onInit={logEvent(EmbedEvent.Init)}\n            onLoad={logEvent(\"Load\")}\n            onDrilldown={logEvent}\n            onCustomAction={onCustomAction}\n            onQueryChanged={logEvent}\n            onAlert={logEvent}\n            onDialogOpen={onDialogOpen}\n            onDialogClose={onDialogClose}\n            onRouteChange={logEvent}\n            showPrimaryNavbar={false}\n          />\n        </Content>\n      </Layout>\n      <Footer>Footer</Footer>\n    </Layout>\n  );\n};\n","import {\n  Client,\n  DEFAULT_CONFIGURATION,\n  MetadataController,\n  DataController,\n} from \"@thoughtspot/rest-api-sdk\";\nimport { TOKEN_ENDPOINT_API, TS_HOST } from \"./constants\";\nimport React, { useState } from \"react\";\n\nDEFAULT_CONFIGURATION.baseUrl = `https://${TS_HOST}`;\nDEFAULT_CONFIGURATION.acceptLanguage = \"*\";\n\nconst apiContext = React.createContext<{\n  metadataController: MetadataController | null;\n  dataController: DataController | null;\n}>({\n  metadataController: null,\n  dataController: null\n});\n\nexport const useAPIClient = () => React.useContext(apiContext);\n\nexport const APIProvider = ({ children }) => {\n  const [loading, uisetLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [controllers, setControllers] = React.useState<any>({});\n\n  const init = (token: string) => {\n    DEFAULT_CONFIGURATION.accessToken = token;\n    let client = new Client(DEFAULT_CONFIGURATION);\n    const metadataController = new MetadataController(client);\n    const dataController = new DataController(client);\n    setControllers({\n      metadataController,\n      dataController\n    });\n  };\n\n  React.useEffect(() => {\n    // fetch(TOKEN_ENDPOINT_API)\n    //   .then((res) => res.text())\n    //   .then((token) => {\n    //     init(token);\n    //   });\n  }, []);\n\n  return (\n    <apiContext.Provider value={controllers}>{children}</apiContext.Provider>\n  );\n};\n","import { Layout, Button, Select } from \"antd\";\nimport ReactDataGrid from \"@inovua/reactdatagrid-enterprise\";\nimport \"@inovua/reactdatagrid-enterprise/index.css\";\nimport React from \"react\";\nimport {\n  useEventLogger,\n  actionSet,\n  convertToRowOriented\n} from \"../../utils/utils\";\nimport { useAPIClient } from \"../../api-client\";\n\nconst { Header, Footer, Sider, Content } = Layout;\nconst { Option } = Select;\n\nexport const Api = () => {\n  const logEvent = useEventLogger();\n  const { metadataController, dataController }: any = useAPIClient();\n  const [options, setOptions] = React.useState([\n    {\n      name: \"loading ...\",\n      id: \"\"\n    }\n  ]);\n  const [rows, setRows] = React.useState([]);\n  const [columns, setColumns] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const populateAnswers = async () => {\n    setLoading(true);\n    const answers: any = await metadataController?.searchObjectHeader({\n      type: 'ANSWER'\n    });\n    setLoading(false);\n    if (answers) {\n      setOptions(\n        answers?.result.headers.map((a) => ({ name: a.name, id: a.id }))\n      );\n    }\n  };\n  React.useEffect(() => {\n    populateAnswers();\n  }, [metadataController]);\n\n  const loadAnswer = async (id: string) => {\n    setLoading(true);\n    const { result } = await dataController?.answerData({\n      id: id\n    });\n    const { rows, columns } = convertToRowOriented(result);\n    setRows(rows);\n    setColumns(columns);\n    setLoading(false);\n  };\n\n  return (\n    <Layout>\n      <Header>\n        API Embed\n        <i> (see events details in the console)</i>\n      </Header>\n\n      <Layout>\n        <Sider width={200}>\n          <div className=\"sider-content\">\n            <div>Select answer</div>\n            <Select style={{ width: 120 }} onChange={loadAnswer}>\n              {options.map((option) => (\n                <Option value={option.id}>{option.name}</Option>\n              ))}\n            </Select>\n          </div>\n        </Sider>\n\n        <Content>\n          <ReactDataGrid\n            dataSource={rows}\n            columns={columns}\n            enableColumnAutosize\n            loading={loading}\n            rowHeight={40}\n            style={{ minHeight: 550 }}\n          ></ReactDataGrid>\n        </Content>\n      </Layout>\n      <Footer>Footer</Footer>\n    </Layout>\n  );\n};\n","import { Home } from \"./components/home/home\";\nimport { Liveboard } from \"./components/liveboard/liveboard\";\nimport { Viz } from \"./components/viz/viz\";\nimport { TableViz } from \"./components/viz/table-viz\";\nimport { Search } from \"./components/search/search\";\nimport { FullApp } from \"./components/full/full\";\nimport { Api } from \"./components/api/api\";\n\nexport const routes = [\n  {\n    path: \"/\",\n    element: <Home />\n  },\n  {\n    path: \"/search\",\n    element: <Search />\n  },\n  {\n    path: \"/liveboard\",\n    element: <Liveboard />\n  },\n  {\n    path: \"/viz\",\n    element: <Viz />\n  },\n  {\n    path: \"/viz-table\",\n    element: <TableViz />\n  },\n  {\n    path: \"/full\",\n    element: <FullApp />\n  },\n  {\n    path: \"/api\",\n    element: <Api />\n  }\n];\n","import { Button, Menu } from \"antd\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { logout } from \"@thoughtspot/visual-embed-sdk\";\n\nexport const Nav = () => {\n  const location = useLocation();\n  return (\n    <Menu\n      style={{ position: \"fixed\", height: \"48px\", width: \"100vw\" }}\n      selectedKeys={[location.pathname]}\n      mode=\"horizontal\"\n    >\n      <Menu.Item key=\"/\">\n        <Link to=\"/\">Home</Link>\n      </Menu.Item>\n      <Menu.Item key=\"/liveboard\">\n        <Link to=\"/liveboard\">Liveboard</Link>\n      </Menu.Item>\n      <Menu.Item key=\"/viz\">\n        <Link to=\"/viz\">Viz</Link>\n      </Menu.Item>\n      <Menu.Item key=\"/viz-table\">\n        <Link to=\"/viz-table\">Table Viz</Link>\n      </Menu.Item>\n      <Menu.Item key=\"/search\">\n        <Link to=\"/search\">Search</Link>\n      </Menu.Item>\n      <Menu.Item key=\"/full\">\n        <Link to=\"/full\">Full App</Link>\n      </Menu.Item>\n      <Menu.Item key=\"/api\">\n        <Link to=\"/api\">REST Api</Link>\n      </Menu.Item>\n      <Menu.Item key=\"logout\" style={{ marginLeft: \"auto\" }}>\n        <Button type=\"link\" onClick={() => logout(true)}>\n          Logout\n        </Button>\n      </Menu.Item>\n    </Menu>\n  );\n};\n","import \"./styles.css\";\nimport \"antd/dist/antd.dark.css\";\nimport { init, AuthType } from \"@thoughtspot/visual-embed-sdk\";\nimport { HashRouter, useRoutes } from \"react-router-dom\";\nimport { notification } from \"antd\";\nimport { routes } from \"./routes\";\nimport { Nav } from \"./components/nav/nav\";\nimport { TS_HOST } from \"./constants\";\nimport { APIProvider } from \"./api-client\";\n\n// Initialize ThoughtSpot Visual embed sdk\nconst authStatus = init({\n  thoughtSpotHost: TS_HOST,\n  authType: AuthType.Passthrough\n  // customCssUrl: \"cdn.jsdelivr.net/gh/thoughtspot/custom-css-demo/dark3.css\"\n});\n\nauthStatus.on(\"SUCCESS\", () => {\n  notification.info({\n    message: \"Auth successful\",\n    duration: 2,\n    placement: \"bottomRight\"\n  });\n});\nauthStatus.on(\"FAILURE\", (reason) => {\n  notification.error({\n    message: \"Auth Failed due to \" + reason,\n    duration: 2,\n    placement: \"bottomRight\"\n  });\n});\nauthStatus.on(\"LOGOUT\", () => {\n  notification.info({\n    message: \"Successfully logged out\",\n    duration: 2,\n    placement: \"bottomRight\"\n  });\n});\n\nfunction AppView() {\n  const element = useRoutes(routes);\n  return (\n    <div className=\"App\">\n      <Nav />\n      {element}\n    </div>\n  );\n}\n\nexport default function App() {\n  return (\n    <HashRouter>\n      <APIProvider>\n        <AppView />\n      </APIProvider>\n    </HashRouter>\n  );\n}\n","import { render } from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nrender(<App />, rootElement);\n"],"sourceRoot":""}